# Shellcode and Linux System Calls 

## What is Shellcode?
Shellcode is machine level code that can be executed on a computer at runtime. Shellcode gets its name from being a payload that can generate a shell, but we can use shellcode read, create, and delete files. In yesterday's example, we had a `win` function, but in the real world we don't usually have a win function. 

## Running Shellcode in C
We are going to take some premade shellcode, and run it in a C program. 

## Writing Shellcode by Hand
We haven't looked at writing assembly at all so far in this course, but many times you can't use premade shellcode because of input restrictions (certain characters can't be used, certain calls can't be made by a program, or there is a size limit). 

To develop our own assembly programs, we will use `nasm` and `ld` to turn our compiled assembly programs into executables. For example if we had assembly in `hello.asm` we could compile and execute it using

```shell
nasm elf -f hello.asm #creates an object file hello.o 
ld -m elf_i386 -s -o hello hello.o #links the object file to create the executable
./hello
```  

```assembly
section .text: 
	global _start ;;tells the linker where start is

_start: 
	sub esp, 0x10 ;; make room on the stack for "Hello, World!"
	mov dword [esp], 0x6c6c6548 ;; push 'Hell' in little-endian
	mov dword [esp + 4], 0x57202c6f ;;push 'o, W' 
	mov dword [esp + 8], 0x646c726f ;;push 'orld'
	mov dword [esp + 12], 0x00000a21 ;;push '!'
	mov ebx, 1 ;; the file descript, stdout in this case
	mov ecx, esp ;; address to read from
	mov edx, 14  ;; len of message
	mov eax, 4 ;; sys_call number 
	int 0x80 ;; call to kernel
	
	mov eax, 1 ;; sys_call number (exit) 
	int 0x80 ;; call to kernel
```

## Using pwntools for Shellcode
