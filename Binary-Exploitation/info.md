## Memory Segments

* Data segment
  * .data section: Where constants are declared
  * .bss section: Where variables are declared
* Code segment
  * .text section: Where the code is
* Stack


## Registers


## System Calls

### You need to:
* Put system call # in EAX register (system calls listed on */usr/include/asm/unistd.h*)
* Put arguments to system call in registers (EBX, ECX, EDX, ESI, EDI, EBP)
* Call the relevant interrupt (int 0x80)
* Result (usually) returned in EAX register.

### Example: sys_exit
```assembly
mov	eax,1		; system call number (sys_exit)
int	0x80		; call kernel
```

### Example: sys_write
```assembly
mov	edx,4		; message length
mov	ecx,msg		; message to write
mov	ebx,1		; file descriptor (stdout)
mov	eax,4		; system call number (sys_write)
int	0x80		; call kernel
```


## Addressing

### Register Addressing
```assembly
MOV DX, TAX_RATE   ; Register in first operand
MOV COUNT, CX	   ; Register in second operand
MOV EAX, EBX	   ; Both the operands are in registers
```

### Immediate Addressing
```assembly
BYTE_VALUE  DB  150    ; A byte value is defined
WORD_VALUE  DW  300    ; A word value is defined
ADD  BYTE_VALUE, 65    ; An immediate operand 65 is added
MOV  AX, 45H           ; Immediate constant 45H is transferred to AX
```

### Direct Memory Addressing
```assembly
ADD	BYTE_VALUE, DL	; Adds the register in the memory location
MOV	BX, WORD_VALUE	; Operand from the memory is added to register
'''

### Direct-Offset Addressing
```assembly
BYTE_TABLE DB  14, 15, 22, 45      ; Tables of bytes
WORD_TABLE DW  134, 345, 564, 123  ; Tables of words

MOV CL, BYTE_TABLE[2]	; Gets the 3rd element of the BYTE_TABLE
MOV CL, BYTE_TABLE + 2	; Gets the 3rd element of the BYTE_TABLE
MOV CX, WORD_TABLE[3]	; Gets the 4th element of the WORD_TABLE
MOV CX, WORD_TABLE + 3	; Gets the 4th element of the WORD_TABLE
```

### Indirect Memory Addressing
```assembly
MY_TABLE TIMES 10 DW 0  ; Allocates 10 words (2 bytes) each initialized to 0
MOV EBX, [MY_TABLE]     ; Effective Address of MY_TABLE in EBX
MOV [EBX], 110          ; MY_TABLE[0] = 110
ADD EBX, 2              ; EBX = EBX +2
MOV [EBX], 123          ; MY_TABLE[1] = 123
```

### MOV
```assembly
MOV  destination, source

MOV  register, register
MOV  register, immediate
MOV  memory, immediate
MOV  register, memory
MOV  memory, register
```


## Variables


